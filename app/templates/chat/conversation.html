{% extends "chat/channel.html" %}

{% macro render_field(field, placeholder=None) %}
        <div class="form-group">

        <div class="col-lg-12">
        {% set css_class = 'form-control' + ' message-input'  + kwargs.pop('class', '') %}
        {{ field(class=css_class, placeholder=placeholder, **kwargs) }}
        </div>
            </div>
{% endmacro %}

{% block messages %}
    {% for single_message in messages %}
            <p> <small> {{ single_message.date_created }} </small>
                <strong> {{ single_message.author }}: </strong>
                {{ single_message }}</p>
    {% endfor %}

    <form method="POST" class="form-inline" action="postmessage" accept-charset="UTF-8" role="form">
       {{ form.csrf_token }}
       {{ render_field(template_message_form.text, placeholder="Your text",
                                   autofocus="") }}
       <button  class="btn btn-default" type="submit" name="submit">Post it</button>

    </form>
{% endblock messages %}